<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Careers at Staffona ‚Äî Join Egypt's HR Outsourcing Team</title>
<meta name="description" content="Join Staffona ‚Äî Egypt's growing HR outsourcing and recruitment consultancy. Open roles in HR, payroll, and recruitment. Apply with your CV.">
<link rel="canonical" href="https://staffona.com/careers">
<meta property="og:type" content="website">
<meta property="og:url" content="https://staffona.com/careers">
<meta property="og:title" content="Careers at Staffona ‚Äî Join Egypt's HR Outsourcing Team">
<meta property="og:description" content="Open roles in HR, payroll, and recruitment at Staffona ‚Äî Egypt's growing HR outsourcing consultancy in Alexandria.">
<meta property="og:image" content="https://staffona.com/og-banner.png">
<link rel="icon" type="image/png" href="Favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<style>
.job-card{background:var(--white);border:1px solid var(--border);border-radius:var(--rl);padding:28px 26px;transition:all var(--t) var(--ease)}
.job-card:hover{border-color:var(--gold);box-shadow:var(--sh2)}
.job-card.featured{border-color:var(--gold);background:var(--navy);color:#fff}
.jc-top{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:12px}
.jc-badges{display:flex;gap:7px;flex-wrap:wrap;margin-bottom:10px}
.badge{display:inline-block;padding:3px 10px;border-radius:100px;font-size:11.5px;font-weight:600}
.badge-ft{background:rgba(11,31,58,.08);color:var(--navy)}
.badge-feat{background:var(--gold);color:var(--navy)}
.badge-loc{background:rgba(71,85,105,.08);color:var(--slate)}
.jc-title{font-family:var(--fh);font-size:20px;font-weight:700;color:var(--text);margin-bottom:6px}
.jc-dept{font-size:13px;color:var(--slate-l);margin-bottom:12px}
.job-card.featured .jc-title{color:#fff}
.job-card.featured .jc-dept{color:rgba(255,255,255,.5)}
.job-card.featured .jc-desc{color:rgba(255,255,255,.7)}
.jc-desc{font-size:13.5px;color:var(--slate);line-height:1.7;margin-bottom:14px}
.jc-skills{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}
.skill-tag{background:var(--off);border:1px solid var(--border);border-radius:var(--r);padding:4px 10px;font-size:11.5px;color:var(--slate)}
.job-card.featured .skill-tag{background:rgba(200,151,58,.15);border-color:rgba(200,151,58,.35);color:rgba(255,255,255,.8)}
.jc-btn{display:inline-flex;align-items:center;gap:6px;background:var(--navy);color:#fff;border:none;border-radius:var(--r);padding:9px 18px;font-size:13px;font-weight:600;cursor:pointer;font-family:var(--fb);transition:all var(--t)}
.jc-btn:hover{background:var(--navy-lt)}
.job-card.featured .jc-btn{background:var(--gold);color:var(--navy)}
.job-card.featured .jc-btn:hover{background:var(--gold-lt)}
/* ‚îÄ‚îÄ APPLICATION FORM ‚îÄ‚îÄ */
.app-wrap{background:var(--navy);border-radius:var(--rx);padding:40px;max-width:700px;margin:0 auto}
.app-title{font-family:var(--fh);font-size:26px;font-weight:700;color:#fff;margin-bottom:6px}
.app-sub{font-size:13.5px;color:rgba(255,255,255,.44);margin-bottom:28px;line-height:1.65}
.fg{margin-bottom:14px}
.fl{display:block;font-size:11px;font-weight:600;color:rgba(255,255,255,.46);margin-bottom:5px;letter-spacing:.06em;text-transform:uppercase}
.fi,.fsel,.fta{width:100%;padding:10px 12px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.11);border-radius:var(--r);color:#fff;font-size:13.5px;font-family:var(--fb);transition:border-color var(--t);outline:none}
.fi::placeholder,.fta::placeholder{color:rgba(255,255,255,.28)}.fi:focus,.fsel:focus,.fta:focus{border-color:var(--gold)}
.fsel{color:rgba(255,255,255,.7)}.fsel option{background:var(--navy)}
.fta{resize:vertical;min-height:90px}
.frow{display:grid;grid-template-columns:1fr 1fr;gap:12px}
/* CV zone ‚Äî real file input, styled as a drop zone */
.cv-zone{position:relative;width:100%;padding:22px 20px;background:rgba(255,255,255,.04);border:2px dashed rgba(255,255,255,.16);border-radius:var(--rm);text-align:center;cursor:pointer;transition:all var(--t)}
.cv-zone:hover{border-color:var(--gold);background:rgba(200,151,58,.06)}
.cv-zone input[type=file]{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}
.cv-icon{font-size:28px;margin-bottom:6px}
.cv-lbl{font-size:13.5px;font-weight:600;color:rgba(255,255,255,.6)}
.cv-hint{font-size:11.5px;color:rgba(255,255,255,.3);margin-top:4px}
.cv-chosen{font-size:12.5px;color:var(--gold);font-weight:600;margin-top:6px;display:none}
.fsub{width:100%;padding:13px;background:var(--gold);color:var(--navy);border:none;border-radius:var(--r);font-size:14px;font-weight:700;cursor:pointer;font-family:var(--fb);transition:all var(--t);margin-top:4px}
.fsub:hover{background:var(--gold-lt);transform:translateY(-1px)}
.fsub:disabled{opacity:.6;cursor:not-allowed;transform:none}
.app-ok{display:none;text-align:center;padding:36px 0}
.app-ok-icon{font-size:48px;margin-bottom:14px}
.app-ok-title{font-size:22px;font-weight:700;color:#fff;margin-bottom:8px}
.app-ok-desc{font-size:14px;color:rgba(255,255,255,.55);line-height:1.7}
.screening-section{margin-top:4px;margin-bottom:4px}
.screening-heading{font-size:11px;font-weight:700;color:var(--gold);letter-spacing:.1em;text-transform:uppercase;margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid rgba(200,151,58,.2)}
.screening-section .fsel{color:rgba(255,255,255,.7)}
@media(max-width:600px){.frow{grid-template-columns:1fr}.app-wrap{padding:24px 18px}}
</style>
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"JobPosting","title":"HR & Payroll Specialist","description":"Lead payroll processing and HR administration for a portfolio of international clients.","datePosted":"2026-02-01","validThrough":"2026-06-30","employmentType":"FULL_TIME","hiringOrganization":{"@type":"Organization","name":"Staffona","sameAs":"https://staffona.com"},"jobLocation":{"@type":"Place","address":{"@type":"PostalAddress","addressLocality":"Alexandria","addressCountry":"EG"}},"url":"https://staffona.com/careers"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://staffona.com"},{"@type":"ListItem","position":2,"name":"Careers","item":"https://staffona.com/careers"}]}]}</script>
</head>
<body>
<div class="nav-wrap page" id="navbar">
  <div class="w"><nav class="nav-in" aria-label="Main">
    <a href="index.html" class="nav-logo"><img src="/Logo.png" alt="Staffona" onerror="this.style.display='none';this.nextElementSibling.style.display='block'"><span class="nlf">Staff<em>ona</em></span></a>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li class="ndrop"><a href="services.html">Services ‚ñæ</a>
        <div class="ndrop-menu">
          <a href="hr-outsourcing.html">HR Outsourcing</a>
          <a href="payroll-egypt.html">Payroll Management</a>
          <a href="recruitment-egypt.html">Recruitment</a>
          <a href="compliance.html">HR Compliance</a>
          <a href="services.html">All Services ‚Üí</a>
          <a href="pricing.html">Pricing</a>
        </div>
      </li>
      <li><a href="resources.html">Resources</a></li>
      <li><a href="laws.html">Laws &amp; Guides</a></li>
      <li><a href="careers.html" class="active">Careers</a></li>
      <li><a href="about.html">About</a></li>
    </ul>
    <div class="nav-r">
      <a href="ar.html" class="lang-btn" title="Arabic / ÿßŸÑÿπÿ±ÿ®Ÿäÿ©">üåê AR</a>
      <button class="dm-btn" aria-label="Toggle dark mode">
        <svg class="dm-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        <svg class="dm-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
      </button>
      <button class="nav-mob" id="hbg" aria-label="Menu" aria-expanded="false" style="display:none"><span></span><span></span><span></span></button>
    </div>
  </nav></div>
</div>
<nav class="mob-nav" id="mobNav">
  <a href="index.html">Home</a><a href="services.html">Services</a><a href="hr-outsourcing.html">HR Outsourcing</a>
  <a href="payroll-egypt.html">Payroll</a><a href="recruitment-egypt.html">Recruitment</a><a href="compliance.html">Compliance</a>
  <a href="pricing.html">Pricing</a><a href="resources.html">Resources</a><a href="laws.html">Laws &amp; Guides</a>
  <a href="careers.html">Careers</a><a href="about.html">About</a><a href="index.html#contact">Contact</a>
</nav>

<section class="ph">
  <div class="ph-glow"></div>
  <div class="w ph-in">
    <div class="breadcrumb"><a href="index.html">Home</a><span class="bc-sep">‚Ä∫</span><span>Careers</span></div>
    <div class="ph-pill">We're Hiring</div>
    <h1>Join the Staffona<br><span>Team</span></h1>
    <p class="sub">We're building Egypt's most trusted HR outsourcing team. If you know Egyptian labor law, payroll, or recruitment ‚Äî we want to hear from you.</p>
  </div>
</section>

<section class="sec">
  <div class="w">

    <div class="sh rv"><div class="lbl">Open Roles</div><h2 class="h2">Current <span>Openings</span></h2></div>
    <div id="jobCards" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:18px;margin-bottom:56px"></div>

    <!-- APPLICATION FORM -->
    <div class="app-wrap rv" id="appSection">
      <div id="appFormWrap">
        <div class="app-title" id="appTitle">Apply Now</div>
        <div class="app-sub">Your CV will be delivered directly to our team. We review every application and reply within 3 business days.</div>

        <!--
          HOW THIS WORKS ‚Äî FormSubmit.co (free, no account needed):
          1. The FIRST submission to a new email triggers a one-time verification email
             to careers@staffona.com. Click the link in that email to activate.
          2. After activation, every submission arrives in careers@staffona.com
             with all form fields AND the CV file attached.
          3. No JS tricks, no third-party API keys, no monthly limits.
          enctype="multipart/form-data" is required for real file uploads.
        -->
        <form id="careerForm"
              action="https://formsubmit.co/careers@staffona.com"
              method="POST"
              enctype="multipart/form-data">

          <!-- FormSubmit.co configuration -->
          <input type="hidden" name="_subject" id="fs_subject" value="New Application ‚Äî Staffona Careers">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_template" value="table">
          <!-- After submit, redirect back to careers page with ?applied=1 to show success -->
          <input type="hidden" name="_next" value="https://staffona.com/careers?applied=1">

          <div class="fg">
            <label class="fl" for="aRole">Role Applying For *</label>
            <select class="fsel" id="aRole" name="Role" required onchange="onRoleChange()">
              <option value="">Select a role...</option>
            </select>
          </div>

          <div class="frow">
            <div class="fg"><label class="fl" for="aFirst">First Name *</label>
              <input class="fi" type="text" id="aFirst" name="First_Name" placeholder="Ahmed" required autocomplete="given-name"></div>
            <div class="fg"><label class="fl" for="aLast">Last Name</label>
              <input class="fi" type="text" id="aLast" name="Last_Name" placeholder="Hassan" autocomplete="family-name"></div>
          </div>
          <div class="frow">
            <div class="fg"><label class="fl" for="aEmail">Email *</label>
              <input class="fi" type="email" id="aEmail" name="Email" placeholder="your@email.com" required autocomplete="email"></div>
            <div class="fg"><label class="fl" for="aPhone">Phone</label>
              <input class="fi" type="tel" id="aPhone" name="Phone" placeholder="+20 10 XXXX XXXX" autocomplete="tel"></div>
          </div>
          <div class="fg">
            <label class="fl" for="aExp">Years of Experience</label>
            <select class="fsel" id="aExp" name="Experience">
              <option value="">Select...</option>
              <option value="0-1 years">0‚Äì1 years (fresh graduate)</option>
              <option value="1-3 years">1‚Äì3 years</option>
              <option value="3-5 years">3‚Äì5 years</option>
              <option value="5-10 years">5‚Äì10 years</option>
              <option value="10+ years">10+ years</option>
            </select>
          </div>
          <div class="fg"><label class="fl" for="aLinkedin">LinkedIn Profile URL</label>
            <input class="fi" type="url" id="aLinkedin" name="LinkedIn" placeholder="https://linkedin.com/in/yourprofile"></div>

          <!-- Screening questions injected here by JS. Each input gets a name= so it submits as a real field -->
          <div id="screeningQs"></div>

          <!-- CV ‚Äî real <input type="file"> submitted with the form as a real attachment -->
          <div class="fg">
            <label class="fl">Upload Your CV *</label>
            <div class="cv-zone" id="cvZone">
              <input type="file" name="CV_Attachment" id="cvFile" accept=".pdf,.doc,.docx" required onchange="cvSelected(this)">
              <div class="cv-icon">üìÑ</div>
              <div class="cv-lbl">Click to select your CV file</div>
              <div class="cv-hint">PDF, DOC or DOCX ‚Äî max 10 MB</div>
              <div class="cv-chosen" id="cvChosen"></div>
            </div>
          </div>

          <div class="fg"><label class="fl" for="aCover">Cover Note / Why Staffona?</label>
            <textarea class="fta" id="aCover" name="Cover_Note" placeholder="Tell us why you're interested and what makes you a great fit..."></textarea></div>

          <button type="submit" class="fsub" id="appSubmit">Send Application with CV ‚Üí</button>
        </form>

        <!-- Success state ‚Äî shown when URL has ?applied=1 after FormSubmit redirect -->
        <div class="app-ok" id="appOk">
          <div class="app-ok-icon">üéâ</div>
          <div class="app-ok-title">Application Received!</div>
          <div class="app-ok-desc">Your CV and application are with our team. We review every application and reply within 3 business days.<br><br><a href="careers.html" style="color:var(--gold)">‚Üê Back to all openings</a></div>
        </div>
      </div>
    </div>

  </div>
</section>

<footer class="footer">
  <div class="w">
    <div class="ftg">
      <div class="flb">
        <a href="index.html"><img src="/Logo.png" alt="Staffona" onerror="this.style.display='none';this.nextElementSibling.style.display='block'"><span class="flb-fb">Staff<em>ona</em></span></a>
        <p>Egypt's trusted HR outsourcing and recruitment consultancy. Based in Alexandria, serving international and Egyptian businesses.</p>
        <a href="mailto:info@staffona.com" class="flci"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>info@staffona.com</a>
        <a href="https://maps.google.com/?q=El-Horreya+Street+Mostafa+Kamel+Alexandria+Egypt" target="_blank" rel="noopener" class="flci"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>El-Horreya St, Mustafa Kamil, Alexandria, Egypt</a>
        <a href="https://www.linkedin.com/company/staffona" target="_blank" rel="noopener" class="flci"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-4 0v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>LinkedIn ‚Äî Staffona</a>
      </div>
      <div><div class="flct">Services</div><ul class="flls"><li><a href="hr-outsourcing.html">HR Outsourcing</a></li><li><a href="payroll-egypt.html">Payroll</a></li><li><a href="recruitment-egypt.html">Recruitment</a></li><li><a href="compliance.html">HR Compliance</a></li><li><a href="pricing.html">Pricing</a></li><li><a href="services.html">All Services</a></li></ul></div>
      <div><div class="flct">Resources</div><ul class="flls"><li><a href="resources.html">All Resources</a></li><li><a href="laws.html">Egyptian Laws</a></li><li><a href="resources/hiring-guide.html">Hiring Guide</a></li><li><a href="resources/payroll-taxes.html">Payroll Tax Guide</a></li><li><a href="resources/gcc-hiring.html">GCC Hiring Guide</a></li></ul></div>
      <div><div class="flct">Company</div><ul class="flls"><li><a href="about.html">About Staffona</a></li><li><a href="careers.html">Careers</a></li><li><a href="index.html#contact">Contact</a></li><li><a href="privacy.html">Privacy Policy</a></li><li><a href="terms.html">Terms of Service</a></li></ul></div>
    </div>
    <div class="ftbtm">
      <div><div class="f-copy">¬© 2026 Staffona. All rights reserved. El-Horreya St, Mustafa Kamil, Alexandria, Egypt.</div>
      <p class="f-disc">Staffona provides HR consultancy, payroll administration, and recruitment services. All managed employment arrangements are structured as HR outsourcing engagements in accordance with applicable Egyptian law.</p></div>
      <div class="fbl"><a href="privacy.html">Privacy</a><a href="terms.html">Terms</a><a href="sitemap.xml">Sitemap</a></div>
    </div>
  </div>
</footer>
<div class="cookie" id="cookieBanner"><p>We use cookies to improve your experience. <a href="privacy.html">Privacy Policy</a></p><div class="cb-btns"><button class="btn btn-gold btn-sm" id="cookieAccept">Accept</button><button style="background:transparent;border:1px solid rgba(255,255,255,.2);color:rgba(255,255,255,.4);border-radius:var(--r);padding:7px 14px;font-size:13px;cursor:pointer" id="cookieDecline">Decline</button></div></div>
<button class="btt" id="btt" aria-label="Back to top"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5,12 12,5 19,12"/></svg></button>
<link rel="stylesheet" href="https://assets.calendly.com/assets/external/widget.css">
<script async src="https://assets.calendly.com/assets/external/widget.js"></script>
<script src="shared.js"></script>
<script>
const JOBS_KEY = 'sf-jobs-v2';
let jobs = [];

/* Show success state if redirected back after FormSubmit with ?applied=1 */
(function(){
  if (window.location.search.includes('applied=1')) {
    document.getElementById('careerForm').style.display = 'none';
    document.getElementById('appOk').style.display = 'block';
    history.replaceState(null, '', window.location.pathname);
  }
})();

function loadJobs() {
  try { jobs = JSON.parse(localStorage.getItem(JOBS_KEY) || '[]'); } catch { jobs = []; }
  renderJobCards();
  populateRoleDropdown();
}

function renderJobCards() {
  const container = document.getElementById('jobCards');
  const active = jobs.filter(j => j.status === 'Active');
  if (!active.length) {
    container.innerHTML = `
      <div class="job-card featured rv">
        <div class="jc-top"><div>
          <div class="jc-badges"><span class="badge badge-feat">‚≠ê Featured</span><span class="badge badge-ft">Full-Time</span><span class="badge badge-loc">üìç Alexandria</span></div>
          <div class="jc-title">HR &amp; Payroll Specialist</div>
          <div class="jc-dept">HR &amp; Payroll Department</div>
        </div></div>
        <p class="jc-desc">Lead payroll processing and HR administration for a portfolio of international clients. Monthly compliance, accurate filings, and smooth client relationships.</p>
        <div class="jc-skills"><span class="skill-tag">Egyptian Labor Law</span><span class="skill-tag">Payroll Processing</span><span class="skill-tag">Social Insurance</span><span class="skill-tag">Excel</span><span class="skill-tag">Arabic</span><span class="skill-tag">English</span></div>
        <button class="jc-btn" onclick="applyFor('HR & Payroll Specialist')">Apply for This Role ‚Üí</button>
      </div>
      <div class="job-card rv d1">
        <div class="jc-top"><div>
          <div class="jc-badges"><span class="badge badge-ft">Full-Time</span><span class="badge badge-loc">üìç Alexandria</span></div>
          <div class="jc-title">Recruitment Consultant</div>
          <div class="jc-dept">Recruitment Department</div>
        </div></div>
        <p class="jc-desc">Source, screen, and place candidates across tech, finance, and operations for our international client base. Manage end-to-end recruitment and build client relationships.</p>
        <div class="jc-skills"><span class="skill-tag">Sourcing</span><span class="skill-tag">LinkedIn Recruiter</span><span class="skill-tag">Interview Coordination</span><span class="skill-tag">English</span></div>
        <button class="jc-btn" onclick="applyFor('Recruitment Consultant')">Apply for This Role ‚Üí</button>
      </div>
      <div class="job-card rv d2">
        <div class="jc-top"><div>
          <div class="jc-badges"><span class="badge badge-ft">Full-Time</span><span class="badge badge-loc">üìç Alexandria</span></div>
          <div class="jc-title">HR Operations Coordinator</div>
          <div class="jc-dept">Operations Department</div>
        </div></div>
        <p class="jc-desc">Support daily HR operations including onboarding, contract management, and employee records for our growing client portfolio.</p>
        <div class="jc-skills"><span class="skill-tag">HR Admin</span><span class="skill-tag">Onboarding</span><span class="skill-tag">Labor Office</span><span class="skill-tag">Arabic</span><span class="skill-tag">English</span></div>
        <button class="jc-btn" onclick="applyFor('HR Operations Coordinator')">Apply for This Role ‚Üí</button>
      </div>`;
    return;
  }
  container.innerHTML = active.map((j, i) => {
    const skillTags = j.skills ? j.skills.map(s => `<span class="skill-tag">${esc(s)}</span>`).join('') : '';
    const qNote = j.questions && j.questions.length
      ? `<div style="font-size:12px;color:rgba(200,151,58,.75);margin-bottom:12px">üìã ${j.questions.length} screening question${j.questions.length !== 1 ? 's' : ''} for this role</div>`
      : '';
    return `<div class="job-card ${j.featured ? 'featured' : ''} rv ${i > 0 ? 'd' + Math.min(i,4) : ''}">
      <div class="jc-top"><div>
        <div class="jc-badges">
          ${j.featured ? '<span class="badge badge-feat">‚≠ê Featured</span>' : ''}
          <span class="badge badge-ft">${esc(j.type||'Full-Time')}</span>
          <span class="badge badge-loc">üìç ${esc(j.location||'Alexandria')}</span>
          ${j.salary ? `<span class="badge badge-ft">üí∞ ${esc(j.salary)}</span>` : ''}
        </div>
        <div class="jc-title">${esc(j.title)}</div>
        <div class="jc-dept">${esc(j.dept)}</div>
      </div></div>
      ${j.description ? `<p class="jc-desc">${esc(j.description)}</p>` : ''}
      ${skillTags ? `<div class="jc-skills">${skillTags}</div>` : ''}
      ${qNote}
      <button class="jc-btn" onclick="applyFor(${JSON.stringify(j.title)})">Apply for This Role ‚Üí</button>
    </div>`;
  }).join('');
}

function populateRoleDropdown() {
  const sel = document.getElementById('aRole');
  sel.innerHTML = '<option value="">Select a role...</option>';
  const active = jobs.filter(j => j.status === 'Active');
  if (active.length) {
    active.forEach(j => {
      const o = document.createElement('option');
      o.value = j.title; o.textContent = j.title;
      sel.appendChild(o);
    });
  } else {
    ['HR & Payroll Specialist','Recruitment Consultant','HR Operations Coordinator'].forEach(r => {
      const o = document.createElement('option');
      o.value = r; o.textContent = r;
      sel.appendChild(o);
    });
  }
  const sp = document.createElement('option');
  sp.value = 'Speculative Application'; sp.textContent = 'üì© Speculative Application';
  sel.appendChild(sp);
}

function onRoleChange() {
  const roleName = document.getElementById('aRole').value;
  document.getElementById('screeningQs').innerHTML = '';
  document.getElementById('fs_subject').value = roleName
    ? 'Application: ' + roleName + ' ‚Äî Staffona'
    : 'New Application ‚Äî Staffona Careers';
  document.getElementById('appTitle').textContent = roleName ? 'Apply: ' + roleName : 'Apply Now';

  const job = jobs.find(j => j.title === roleName);
  if (!job || !job.questions || !job.questions.length) return;

  const section = document.createElement('div');
  section.className = 'screening-section';
  const heading = document.createElement('div');
  heading.className = 'screening-heading';
  heading.textContent = 'Role-Specific Questions';
  section.appendChild(heading);

  job.questions.forEach((q, i) => {
    const fg = document.createElement('div');
    fg.className = 'fg';
    const lbl = document.createElement('label');
    lbl.className = 'fl';
    lbl.setAttribute('for', 'sq_' + i);
    lbl.textContent = q.text + (q.required ? ' *' : '');
    fg.appendChild(lbl);

    let inp;
    if (q.type === 'yesno') {
      inp = document.createElement('select');
      inp.className = 'fsel';
      inp.innerHTML = '<option value="">Select...</option><option>Yes</option><option>No</option>';
    } else if (q.type === 'dropdown' && q.options && q.options.length) {
      inp = document.createElement('select');
      inp.className = 'fsel';
      inp.innerHTML = '<option value="">Select...</option>';
      q.options.forEach(opt => { const o = document.createElement('option'); o.value = opt; o.textContent = opt; inp.appendChild(o); });
    } else if (q.type === 'number') {
      inp = document.createElement('input');
      inp.className = 'fi'; inp.type = 'number'; inp.placeholder = 'Enter a number';
    } else {
      inp = document.createElement('input');
      inp.className = 'fi'; inp.type = 'text'; inp.placeholder = 'Your answer...';
    }
    inp.id = 'sq_' + i;
    /* name= makes it a real form field that FormSubmit includes in the email */
    inp.name = 'Q' + (i + 1) + '_' + q.text.replace(/[^a-zA-Z0-9]+/g, '_').slice(0, 50);
    inp.dataset.qText = q.text;
    inp.dataset.required = q.required ? '1' : '0';
    fg.appendChild(inp);
    section.appendChild(fg);
  });
  document.getElementById('screeningQs').appendChild(section);
}

function applyFor(role) {
  const sel = document.getElementById('aRole');
  for (let i = 0; i < sel.options.length; i++) {
    if (sel.options[i].value === role) { sel.selectedIndex = i; break; }
  }
  onRoleChange();
  document.getElementById('appSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function cvSelected(inp) {
  if (!inp.files[0]) return;
  const f = inp.files[0];
  if (f.size > 10 * 1024 * 1024) { alert('File too large ‚Äî max 10MB.'); inp.value = ''; return; }
  const el = document.getElementById('cvChosen');
  el.textContent = '‚úÖ ' + f.name;
  el.style.display = 'block';
}

/* Client-side validation only ‚Äî FormSubmit handles actual POST + file delivery */
document.getElementById('careerForm').addEventListener('submit', function(e) {
  const role = document.getElementById('aRole').value;
  const firstName = document.getElementById('aFirst').value.trim();
  const email = document.getElementById('aEmail').value.trim();
  const cv = document.getElementById('cvFile').files[0];

  if (!role)        { e.preventDefault(); alert('Please select a role.'); return; }
  if (!firstName)   { e.preventDefault(); alert('Please enter your first name.'); return; }
  if (!email)       { e.preventDefault(); alert('Please enter your email.'); return; }
  if (!cv)          { e.preventDefault(); alert('Please attach your CV (PDF or Word).'); return; }

  const screeningInputs = document.querySelectorAll('#screeningQs [id^="sq_"]');
  for (const inp of screeningInputs) {
    if (inp.dataset.required === '1' && !inp.value.trim()) {
      e.preventDefault();
      alert('Please answer: ' + inp.dataset.qText);
      inp.focus();
      return;
    }
  }

  /* All valid ‚Äî show sending state while FormSubmit POSTs the form */
  const btn = document.getElementById('appSubmit');
  btn.textContent = 'Sending‚Ä¶';
  btn.disabled = true;
});

function esc(s) { return (s||'').toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

loadJobs();
</script>
</body>
</html>
